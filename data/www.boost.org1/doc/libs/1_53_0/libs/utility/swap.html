<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
  
    
    Boost: Swap Documentation - 1.53.0
   
    
    
  
  
  
  
  Boost
  C++ Libraries
  
  
  ...one of the most highly
  regarded and expertly designed C++ library projects in the
  world.  Herb Sutter and Andrei
  Alexandrescu, C++
  Coding Standards
  
  
This is the documentation for an old version of Boost.
                Click here to view this page for the latest version.
    
    
    
      Header <boost/swap.hpp>
    
    Swap
    
    
      template<class T> void swap(T& left, T& right);
    
     
    
    
      The template function boost::swap allows the values of two variables to be swapped, using argument dependent lookup to select a specialized swap function if available. If no specialized swap function is available, std::swap is used.
    
    
    
    Rationale
    
      The generic std::swap function requires that the elements to be swapped are assignable and copy constructible. It is usually implemented using one copy construction and two assignments - this is often both unnecessarily restrictive and unnecessarily slow. In addition, where the generic swap implementation provides only the basic guarantee, specialized swap functions are often able to provide the no-throw exception guarantee (and it is considered best practice to do so where possible1).
    
      The alternative to using argument dependent lookup in this situation is to provide a template specialization of std::swap for every type that requires a specialized swap. Although this is legal C++, no Boost libraries use this method, whereas many Boost libraries provide specialized swap functions in their own namespaces.
    
    
      boost::swap also supports swapping built-in arrays. Note that std::swap originally did not do so, but a request to add an overload of std::swap for built-in arrays has been accepted by the C++ Standards Committee2.
    
    
    
    Exception Safety
    
      boost::swap provides the same exception guarantee as the underlying swap function used, with one exception; for an array of type T[n], where n > 1 and the underlying swap function for T provides the strong exception guarantee, boost::swap provides only the basic exception guarantee.
    
    
    
    Requirements
    Either:
          
      T must be assignable
      T must be copy constructible
    
    Or:
    
      A function with the signature swap(T&,T&) is available via argument dependent lookup
    
    Or:
    
      A template specialization of std::swap exists for T
    
    Or:
    
      T is a built-in array of swappable elements
    
    
    
    Portability
    
      Several older compilers do not support argument dependent lookup  on these compilers boost::swap will call std::swap, ignoring any specialized swap functions that could be found as a result of argument dependent lookup.
    
    
    
    Credits
    
      
        Niels Dekker - for implementing and documenting support for built-in arrays
      
      
        Joseph Gauterin - for the initial idea, implementation, tests, and documentation
      
      
        Steven Watanabe - for the idea to make boost::swap less specialized than std::swap, thereby allowing the function to have the name 'swap' without introducing ambiguity
            
    
    
    
    [1]Scott Meyers, Effective C++ Third Edition, Item 25: "Consider support for a non-throwing swap"
    [2]LWG Defect Report 809 (std::swap should be overloaded for array types)
        
    
    Revised: 08 September 2009
    
      Copyright 2007 - 2009 Joseph Gauterin. Use, modification, and distribution are subject to the Boost Software License, Version 1.0.
      (See accompanying file LICENSE_1_0.txt or a copy at <http://www.boost.org/LICENSE_1_0.txt>.)
    
    
  
